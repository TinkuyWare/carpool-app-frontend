(function(_){for(var r in _){_[r].__farm_resource_pot__='select-role_index_f3b6.js';(globalThis || window || global)['0f6266587c3c880ed98055938bafcf5c'].__farm_module_system__.register(r,_[r])}})({"4d5633a1":function e(e,s,a,t){e._m(s),e.o(s,"default",()=>g);var l=a("957d803e"),r=a("036dd75c"),c=e.i(a("f7176859")),n=a("ebc3afb6"),i=a("5ef950a6"),o=a("65738078"),d=a("da0b8b76"),x=a("0c36c8b6"),f=e.i(a("6b827c0c")),u=e.i(a("e823aa8f")),h=e.i(a("6982241b")),m=e.i(a("61128824")),p=e.i(a("38869417"));function g(){var s=x.useNavigate(),a=n.useSelector(e=>e.signUp).setUserData,t=n.useSelector(e=>e.user),g=t.user,j=t.setType,v=t.syncUser,b=l._(d.useState(null),2),N=b[0],y=b[1],C=t=>()=>{(null==g?void 0:g.state)==="INACTIVE"?(a({role:t}),y(t)):(j(t),"driver"===t&&e.f(h).getDriverByCode(null==g?void 0:g.code).then(e=>{v(e);}).catch(s=>{e.f(p).error(s.message);}),"passenger"===t&&e.f(m).getPassengerByCode(null==g?void 0:g.code).then(e=>{v(e);}).catch(s=>{e.f(p).error(s.message);}),s(e.f(c).HOME));};return r.jsxs(r.Fragment,{children:[!N&&r.jsxs("div",{className:" flex flex-col items-center justify-center",children:[r.jsxs("h3",{className:"font-bold text-pretty text-center text-2xl",children:["¡Bienvenid@ a Carpool, ",o.capitalize(null==g?void 0:g.name),"! 😁"]}),r.jsx("h3",{className:"text-center text-balance",children:"¿Cómo usarás la app?"}),r.jsxs("div",{className:"w-full flex gap-5 h-32 mt-3",children:[r.jsx("button",{className:"flex-grow ",onClick:C("driver"),children:r.jsxs("div",{className:"card h-full w-full flex flex-col items-center gap-2  shadow-xl",children:[r.jsx(i.IconSteeringWheel,{stroke:2,size:64,opacity:.7}),"Conductor(a)"]})}),r.jsx("button",{className:"flex-grow",onClick:C("passenger"),children:r.jsxs("div",{className:"card h-full w-full flex flex-col items-center gap-2 shadow-xl",children:[r.jsx(i.IconUser,{stroke:2,size:64,opacity:.7}),r.jsx("span",{children:"Pasajero/a"})]})})]}),r.jsx("p",{className:"mt-2 text-center text-pretty text-base-content text-opacity-50",children:"Podrás usarla de ambas maneras más adelante"})]}),"driver"===N&&r.jsx(e.f(f),{}),"passenger"===N&&r.jsx(e.f(u),{})]});}},"6b827c0c":function e(e,a,t,r){e._m(a),e.o(a,"default",()=>d),t("74809578"),t("4ba47fd0");var l=t("036dd75c"),s=e.i(t("f7176859")),i=t("ebc3afb6"),o=e.i(t("6982241b")),n=t("dcd4b961"),c=e.i(t("38869417")),u=t("0c36c8b6");function d(){var a=i.useSelector(e=>e.user).user,t=u.useNavigate(),r=n.useMutation({mutationFn:e.f(o).createDriver,onSuccess:()=>{e.f(c).success("Su cuenta fue activada, revisa tu correo PUCP para continuar :D",{duration:1e4}),t(e.f(s).LOGIN);},onError:a=>{var t=a.message;e.f(c).error(t);}}).mutate;return l.jsxs("div",{className:"w-full h-3/4 mt-10 px-4 flex flex-col items-center",children:[l.jsx("h2",{className:"font-bold text-center text-xl mb-5;",children:"¿Cómo te indentificarán tus pasajeros?"}),l.jsxs("form",{onSubmit:e=>{e.preventDefault();var t,l,s,i,o,n=new FormData(e.currentTarget);r({code:null==a?void 0:a.code,plate:null===(t=n.get("plate"))||void 0===t?void 0:t.toString().toUpperCase(),vehicleDescription:null===(l=n.get("vehicleDescription"))||void 0===l?void 0:l.toString(),seats:parseInt(null===(s=n.get("seats"))||void 0===s?void 0:s.toString()),fee:Number(n.get("fee")),routeIn:null===(i=n.get("routeIn"))||void 0===i?void 0:i.toString(),routeOut:null===(o=n.get("routeOut"))||void 0===o?void 0:o.toString()});},className:"grid grid-cols-2 gap-2",children:[l.jsxs("label",{htmlFor:"plate",className:"col-span-2 flex flex-col",children:["Placa",l.jsx("input",{id:"plate",name:"plate",type:"text",className:"input input-bordered",placeholder:"ABC-123",required:!0})]}),l.jsxs("label",{htmlFor:"brand",className:"col-span-2 flex flex-col",children:["Descripción del vehículo",l.jsx("textarea",{id:"vehicleDescription",name:"vehicleDescription",className:"textarea textarea-bordered",placeholder:"Apariencia del vehículo Ejm: Toyota rojo",maxLength:50,required:!0})]}),l.jsxs("label",{htmlFor:"seats",className:"col-span-1 flex flex-col",children:["Máximo de pasajeros",l.jsx("input",{id:"seats",name:"seats",type:"number",min:0,className:"input input-bordered",defaultValue:4,required:!0})]}),l.jsxs("label",{htmlFor:"fee",className:"col-span-1 flex flex-col",children:["Tarifa",l.jsx("input",{id:"fee",name:"fee",type:"number",min:0,step:.5,className:"input input-bordered",defaultValue:"5.00",required:!0})]}),l.jsxs("label",{htmlFor:"routeIn",className:"col-span-2 flex flex-col",children:["Ruta de ida",l.jsx("textarea",{id:"routeIn",name:"routeIn",className:"textarea textarea-bordered",placeholder:"Describe la ruta de ida que sigues",maxLength:100,required:!0})]}),l.jsxs("label",{htmlFor:"routeOut",className:"col-span-2 flex flex-col",children:["Ruta de vuelta",l.jsx("textarea",{id:"routeOut",name:"routeOut",className:"textarea textarea-bordered",placeholder:"Describe la ruta de vuelta que sigues",maxLength:100,required:!0})]}),l.jsx("div",{className:"col-span-2 flex justify-center",children:l.jsx("button",{className:"btn btn-primary mx-10",children:"Todo listo!"})})]})]});}},"e823aa8f":function e(e,t,r,a){e._m(t),e.o(t,"default",()=>u),r("74809578");var c=r("036dd75c"),n=e.i(r("f7176859")),o=r("ebc3afb6"),s=e.i(r("61128824")),i=r("dcd4b961"),l=e.i(r("38869417")),d=r("0c36c8b6");function u(){var t=d.useNavigate(),r=o.useSelector(e=>e.user).user,a=i.useMutation({mutationFn:e.f(s).createPassenger,onSuccess:()=>{e.f(l).success("Su cuenta fue activada, revisa tu correo PUCP para continuar :D",{duration:1e4}),t(e.f(n).LOGIN);},onError:t=>{var r=t.message;e.f(l).error(r);}}).mutate;return c.jsxs("div",{className:"w-full h-3/4 mt-10 px-4 flex flex-col items-center",children:[c.jsx("h2",{className:"font-bold text-center text-pretty text-xl mb-5;",children:"¿Por dónde te recogerán/dejarán los conductores?"}),c.jsxs("form",{onSubmit:e=>{e.preventDefault();var t,c=new FormData(e.currentTarget);a({code:null==r?void 0:r.code,pickUpPoint:null===(t=c.get("pickupPoint"))||void 0===t?void 0:t.toString()});},className:"grid grid-cols-2 gap-2 w-3/4",children:[c.jsxs("label",{htmlFor:"pickupPoint",className:"col-span-2 flex flex-col",children:["Referencia de paradero",c.jsx("textarea",{id:"pickupPoint",name:"pickupPoint",className:"textarea textarea-bordered",required:!0})]}),c.jsx("div",{className:"col-span-2 flex justify-center",children:c.jsx("button",{className:"btn btn-primary mx-10",children:"Todo listo!"})})]})]});}},});
//# sourceMappingURL=select-role_index_f3b6.16672041.js.map