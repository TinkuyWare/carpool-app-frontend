{"version":3,"sources":["/src/services/auth.service.ts"],"sourcesContent":["import { getCookie, setCookie } from \"react-use-cookie\";\r\nimport { ResponseAPI } from \"@interfaces/responseAPI.interface\";\r\nimport { http } from \"@utils/http\";\r\n\r\nclass AuthService {\r\n  public static async logIn(data: {\r\n    code: string;\r\n    password: string;\r\n  }): Promise<ResponseAPI> {\r\n    try {\r\n      const res = await http.post(\"auth/login\", data, {\r\n        credentials: \"include\",\r\n      });\r\n      if (!res.success) throw new Error(res.message);\r\n      setCookie(\"tkn\", res.data);\r\n      return res;\r\n    } catch (error) {\r\n      throw new Error((error as Error).message);\r\n    }\r\n  }\r\n\r\n  public static async logOut(): Promise<ResponseAPI> {\r\n    try {\r\n      const res = await http.get(\"auth/logout\");\r\n      return res;\r\n    } catch (error) {\r\n      throw new Error();\r\n    }\r\n  }\r\n\r\n  public static async verify(): Promise<boolean> {\r\n    const token = getCookie(\"tkn\");\r\n    try {\r\n      const res = await http.get(\"auth/verify\", {\r\n        Authorization: `Bearer ${token}`,\r\n      });\r\n\r\n      return res.success;\r\n    } catch (error) {\r\n      throw new Error();\r\n    }\r\n  }\r\n}\r\n\r\nexport default AuthService;\r\n"],"names":[],"mappings":"4RAIA,KAAA,CACE,MAAA,CAAA,KAAA,CAAoB,KAAA,CAAM,CAGzB,CAAwB,CACvB,GAAI,CACF,GAAA,CAAM,CAAA,CAAM,KAAA,CAAM,CAAA,CAAA,IAAA,CAAK,IAAI,CAAC,CAAA,IAAA,CAAA,KAAA,CAAA,CAAc,CAAA,CAAM,CAC9C,WAAA,CAAa,CAAA,OAAA,CACf,CAAA,CAAA,CACA,EAAA,CAAI,CAAC,CAAA,CAAI,OAAO,CAAE,KAAA,CAAM,KAAI,CAAM,CAAA,CAAI,OAAO,CAAA,CAE7C,MAAA,CADA,CAAA,CAAA,SAAA,CAAU,CAAA,GAAA,CAAA,CAAO,CAAA,CAAI,IAAI,CAAA,CAClB,CAAA,CACT,CAAE,KAAA,CAAO,CAAA,CAAO,CACd,KAAA,CAAM,KAAI,CAAM,CAAC,CAAgB,OAAO,CAAA,CAC1C,CACF,CAEA,MAAA,CAAA,KAAA,CAAoB,MAAA,CAAA,CAA+B,CACjD,GAAI,CAEF,MAAA,CADY,KAAA,CAAM,CAAA,CAAA,IAAA,CAAK,GAAG,CAAC,CAAA,IAAA,CAAA,MAAA,CAAA,CAAA,CAE7B,CAAE,KAAA,CAAO,CAAA,CAAO,CACd,KAAA,CAAM,KAAI,CAAA,CAAA,CACZ,CACF,CAEA,MAAA,CAAA,KAAA,CAAoB,MAAA,CAAA,CAA2B,CAC7C,GAAA,CAAM,CAAA,CAAQ,CAAA,CAAA,SAAA,CAAU,CAAA,GAAA,CAAA,CAAA,CACxB,GAAI,CAKF,MAAO,CAJK,KAAA,CAAM,CAAA,CAAA,IAAA,CAAK,GAAG,CAAC,CAAA,IAAA,CAAA,MAAA,CAAA,CAAe,CACxC,aAAA,CAAe,CAAC,MAAA,CAAA,CAAA,CAAe,MAAA,CAAN,CAAA,CAC3B,CAAA,CAAC,CAAA,CAEU,OAAO,CACpB,CAAE,KAAA,CAAO,CAAA,CAAO,CACd,KAAA,CAAM,KAAI,CAAA,CAAA,CACZ,CACF,CACF,CAAA,CAAA"}