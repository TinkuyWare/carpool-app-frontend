(function(_){for(var r in _){_[r].__farm_resource_pot__='select-role_index_f3b6.js';(globalThis || window || global)['e9989db5dabeea617f40c8dbfd07f5fb'].__farm_module_system__.register(r,_[r])}})({"4d5633a1":function e(e,s,a,t){e._m(s),e.o(s,"default",()=>g);var l=a("95dab18f"),r=a("c919fece"),c=a("957d803e");a("38afb942");var n=a("036dd75c"),i=e.i(a("f7176859")),o=a("ebc3afb6"),d=a("5ef950a6"),x=a("65738078"),f=a("da0b8b76"),u=a("0c36c8b6"),h=e.i(a("6b827c0c")),m=e.i(a("e823aa8f")),p=e.i(a("6982241b")),v=e.i(a("61128824")),b=e.i(a("38869417"));function g(){var s=u.useNavigate(),a=o.useSelector(e=>e.signUp).setUserData,t=o.useSelector(e=>e.user),g=t.user,j=t.setType,N=t.syncUser,y=c._(f.useState(null),2),C=y[0],w=y[1],I=t=>()=>{(null==g?void 0:g.state)==="INACTIVE"?(a({role:t}),w(t)):(j(t),"driver"===t&&e.f(p).getDriverByCode(null==g?void 0:g.code).then(e=>{N(r._(l._({},e),{fee:parseFloat(e.fee),both:!0}));}).catch(s=>{e.f(b).error(s.message);}),"passenger"===t&&e.f(v).getPassengerByCode(null==g?void 0:g.code).then(e=>{N(r._(l._({},e),{both:!0}));}).catch(s=>{e.f(b).error(s.message);}),s(e.f(i).HOME));};return n.jsxs(n.Fragment,{children:[!C&&n.jsxs("div",{className:" flex flex-col items-center justify-center",children:[n.jsxs("h3",{className:"font-bold text-pretty text-center text-2xl px-2",children:[(null==g?void 0:g.state)==="INACTIVE"?"Â¡Bienvenid@ a Carpool":"Â¡Hola de nuevo",", ",x.capitalize(null==g?void 0:g.name),"! ðŸŽ‰"]}),n.jsx("h3",{className:"text-center text-balance",children:"Â¿CÃ³mo usarÃ¡s la app?"}),n.jsxs("div",{className:"w-full flex gap-5 h-32 mt-3",children:[n.jsx("button",{className:"flex-grow ",onClick:I("driver"),children:n.jsxs("div",{className:"card h-full w-full flex flex-col items-center gap-2  shadow-xl",children:[n.jsx(d.IconSteeringWheel,{stroke:2,size:64,opacity:.7}),"Conductor(a)"]})}),n.jsx("button",{className:"flex-grow",onClick:I("passenger"),children:n.jsxs("div",{className:"card h-full w-full flex flex-col items-center gap-2 shadow-xl",children:[n.jsx(d.IconUser,{stroke:2,size:64,opacity:.7}),n.jsx("span",{children:"Pasajero/a"})]})})]}),n.jsx("p",{className:"mt-2 text-center text-pretty text-base-content text-opacity-50",children:"PodrÃ¡s usarla de ambas maneras mÃ¡s adelante"})]}),"driver"===C&&n.jsx(e.f(h),{}),"passenger"===C&&n.jsx(e.f(m),{})]});}},"6b827c0c":function e(e,a,t,r){e._m(a),e.o(a,"default",()=>d),t("74809578"),t("4ba47fd0");var l=t("036dd75c"),s=e.i(t("f7176859")),i=t("ebc3afb6"),o=e.i(t("6982241b")),n=t("dcd4b961"),c=e.i(t("38869417")),u=t("0c36c8b6");function d(){var a=i.useSelector(e=>e.user).user,t=u.useNavigate(),r=n.useMutation({mutationFn:e.f(o).createDriver,onSuccess:()=>{e.f(c).success("Su cuenta fue activada, revisa tu correo PUCP para continuar :D",{duration:1e4}),t(e.f(s).LOGIN);},onError:a=>{var t=a.message;e.f(c).error(t);}}).mutate;return l.jsxs("div",{className:"w-full h-3/4 mt-10 px-4 flex flex-col items-center",children:[l.jsx("h2",{className:"font-bold text-center text-xl mb-5;",children:"Â¿CÃ³mo te indentificarÃ¡n tus pasajeros?"}),l.jsxs("form",{onSubmit:e=>{e.preventDefault();var t,l,s,i,o,n=new FormData(e.currentTarget);r({code:null==a?void 0:a.code,plate:null===(t=n.get("plate"))||void 0===t?void 0:t.toString().toUpperCase(),vehicleDescription:null===(l=n.get("vehicleDescription"))||void 0===l?void 0:l.toString(),seats:parseInt(null===(s=n.get("seats"))||void 0===s?void 0:s.toString()),fee:Number(n.get("fee")),routeIn:null===(i=n.get("routeIn"))||void 0===i?void 0:i.toString(),routeOut:null===(o=n.get("routeOut"))||void 0===o?void 0:o.toString()});},className:"grid grid-cols-2 gap-2",children:[l.jsxs("label",{htmlFor:"plate",className:"col-span-2 flex flex-col",children:["Placa",l.jsx("input",{id:"plate",name:"plate",type:"text",className:"input input-bordered",pattern:"[A-Z0-9]{3}-[0-9]{3}",placeholder:"ABC-123",required:!0})]}),l.jsxs("label",{htmlFor:"brand",className:"col-span-2 flex flex-col",children:["DescripciÃ³n del vehÃ­culo",l.jsx("textarea",{id:"vehicleDescription",name:"vehicleDescription",className:"textarea textarea-bordered",placeholder:"Apariencia del vehÃ­culo Ejm: Toyota rojo",maxLength:50,required:!0})]}),l.jsxs("label",{htmlFor:"seats",className:"col-span-1 flex flex-col",children:["MÃ¡ximo de pasajeros",l.jsx("input",{id:"seats",name:"seats",type:"number",min:0,max:10,className:"input input-bordered",defaultValue:4,required:!0})]}),l.jsxs("label",{htmlFor:"fee",className:"col-span-1 flex flex-col",children:["Tarifa",l.jsx("input",{id:"fee",name:"fee",type:"number",min:0,max:99,step:.5,className:"input input-bordered",defaultValue:"5.00",required:!0})]}),l.jsxs("label",{htmlFor:"routeIn",className:"col-span-2 flex flex-col",children:["Ruta de ida",l.jsx("textarea",{id:"routeIn",name:"routeIn",className:"textarea textarea-bordered",placeholder:"Describe la ruta de ida que sigues",maxLength:100,required:!0})]}),l.jsxs("label",{htmlFor:"routeOut",className:"col-span-2 flex flex-col",children:["Ruta de vuelta",l.jsx("textarea",{id:"routeOut",name:"routeOut",className:"textarea textarea-bordered",placeholder:"Describe la ruta de vuelta que sigues",maxLength:100,required:!0})]}),l.jsx("div",{className:"col-span-2 flex justify-center",children:l.jsx("button",{className:"btn btn-primary mx-10",children:"Todo listo!"})})]})]});}},"e823aa8f":function e(e,t,r,a){e._m(t),e.o(t,"default",()=>u),r("74809578");var c=r("036dd75c"),n=e.i(r("f7176859")),o=r("ebc3afb6"),s=e.i(r("61128824")),i=r("dcd4b961"),l=e.i(r("38869417")),d=r("0c36c8b6");function u(){var t=d.useNavigate(),r=o.useSelector(e=>e.user).user,a=i.useMutation({mutationFn:e.f(s).createPassenger,onSuccess:()=>{e.f(l).success("Su cuenta fue activada, revisa tu correo PUCP para continuar :D",{duration:1e4}),t(e.f(n).LOGIN);},onError:t=>{var r=t.message;e.f(l).error(r);}}).mutate;return c.jsxs("div",{className:"w-full h-3/4 mt-10 px-4 flex flex-col items-center",children:[c.jsx("h2",{className:"font-bold text-center text-pretty text-xl mb-5;",children:"Â¿Por dÃ³nde te recogerÃ¡n/dejarÃ¡n los conductores?"}),c.jsxs("form",{onSubmit:e=>{e.preventDefault();var t,c=new FormData(e.currentTarget);a({code:null==r?void 0:r.code,pickUpPoint:null===(t=c.get("pickupPoint"))||void 0===t?void 0:t.toString()});},className:"grid grid-cols-2 gap-2 w-3/4",children:[c.jsxs("label",{htmlFor:"pickupPoint",className:"col-span-2 flex flex-col",children:["Referencia de paradero",c.jsx("textarea",{id:"pickupPoint",name:"pickupPoint",className:"textarea textarea-bordered",required:!0})]}),c.jsx("div",{className:"col-span-2 flex justify-center",children:c.jsx("button",{className:"btn btn-primary mx-10",children:"Todo listo!"})})]})]});}},});
//# sourceMappingURL=select-role_index_f3b6.3c9954b7.js.map