(function(_){for(var r in _){_[r].__farm_resource_pot__='sign-up_index_48b7.js';(globalThis || window || global)['0f6266587c3c880ed98055938bafcf5c'].__farm_module_system__.register(r,_[r])}})({"2f81e7f6":function e(e,n,i,s){e._m(n),e.o(n,"default",()=>d);var c=i("036dd75c"),l=i("ebc3afb6");function d(e){var n=e.zone,i=l.useSelector(e=>e.signUp).setZone;return c.jsx("li",{onClick:()=>i(n.id),children:c.jsxs("div",{className:"flex justify-between",children:[c.jsx("p",{children:n.name}),c.jsx("span",{children:"‚ùØ"})]})});}},"74031740":function e(e,s,a,t){e._m(s),e.o(s,"default",()=>o);var i=a("036dd75c"),n=a("5ef950a6"),c=a("c7c1652a"),r=e.i(a("f7176859"));function o(s){var a="El usuario ya existe"===s.message,t=a?i.jsx(n.IconMoodWink,{size:96,stroke:1}):i.jsx(n.IconMoodSadDizzy,{size:96,stroke:1});return i.jsxs("article",{className:"flex flex-col justify-center items-center",children:[i.jsx("h3",{className:"font-bold text-center text-3xl",children:a?"D√©j√† vu":"No te pudimos identificar"}),t,i.jsx("p",{className:"text-center text-balance",children:a?"¬°Parece que ya te conocemos! Inicia sesi√≥n para continuar üôå":"Lo sentimos, esta aplicaci√≥n esta destinada a usuarios que pertenecen a la universidad. Si crees que esto es un error, trata de nuevo, el sistema hace lo que puede üòû"}),a&&i.jsx(c.Link,{to:e.f(r).SING_IN,children:i.jsx("button",{className:"btn btn-primary mt-5",children:"Ir a inicio de sesi√≥n"})})]});}},"76d745b8":function e(e,o,n,t){e._m(o),o.default={chooseZoneTxt:"chooseZoneTxt-68716f18",container:"container-68716f18",welcomeTxt:"welcomeTxt-68716f18"};},"9ce2af74":function e(e,n,u,a){e._m(n),e.o(n,"default",()=>o);var d=u("036dd75c"),f=e.i(u("2f81e7f6"));function o(n){var u=n.zones;return d.jsx("ul",{className:"menu bg-base-200 rounded-box w-full",children:u.map(n=>d.jsx(e.f(f),{zone:n},n.id))});}},"cb1344ba":function e(e,a,n,r){e._m(a),e.o(a,"default",()=>l);var s=n("036dd75c"),c=e.i(n("76d745b8")),o=n("dcd4b961"),i=n("43e033a1"),d=e.i(n("9ce2af74")),f=e.i(n("2bc5db2e")),t=e.i(n("fae7f52f"));function l(){var a=o.useQuery({queryKey:[e.f(t).ZONES],queryFn:e.f(f).getZones}),n=a.data,r=a.isLoading;return a.error?s.jsx(i.Error,{}):s.jsxs("div",{className:e.f(c).container,children:[s.jsx("h3",{className:e.f(c).welcomeTxt,children:"Empecemos"}),s.jsx("p",{className:e.f(c).chooseZoneTxt,children:"Elige tu zona para continuar"}),r?s.jsx(i.Loading,{elem:!0}):s.jsx(e.f(d),{zones:n})]});}},"dc50866c":function e(e,t,i,n){e._m(t),e.o(t,"default",()=>u);var c=i("74824e0b"),l=i("036dd75c"),s=i("da0b8b76"),a=i("ebc3afb6"),r=e.i(i("cb1344ba")),o=e.i(i("f490d2ac")),d=i("5ef950a6"),f=[l.jsx(e.f(r),{}),l.jsx(e.f(o),{})];function u(){var e=a.useSelector(e=>e.signUp).createUserData,t=c._(s.useState(1),2),i=t[0],n=t[1];return s.useEffect(()=>{1===i&&(null==e?void 0:e.zoneId)?n(2):2===i&&(null==e||e.role);},[e]),l.jsxs("section",{children:[l.jsx("div",{children:l.jsxs("a",{className:"".concat(1===i?"invisible":""," flex w-fit ml-3 mt-5 items-center text-base-content text-opacity-50 cursor-pointer"),onClick:()=>{n(e=>e>1?e-1:1);},children:[l.jsx(d.IconCaretLeftFilled,{height:16,width:16}),"Volver"]})}),l.jsx(l.Fragment,{children:3!==i?f[i-1]:f[2][null==e?void 0:e.role]})]});}},"f490d2ac":function e(e,t,n,a){e._m(t),e.o(t,"default",()=>f);var s=n("fb686e3f"),r=n("6da9187c"),i=n("74824e0b");n("02ab23c1"),n("ef3ea6b4");var c=n("036dd75c"),l=n("da0b8b76"),o=n("c7c1652a"),d=n("dcd4b961"),m=e.i(n("74031740")),u=e.i(n("7299281c")),b=n("ebc3afb6"),x=e.i(n("f7176859")),p=e.i(n("51d9ea92"));function f(){var t=i._(l.useState(null),2),n=t[0],a=t[1],f=b.useSelector(e=>e.user),g=f.syncUser,h=f.user,N=o.useNavigate(),j=d.useMutation({mutationFn:e.f(u).signUp,onSuccess:(t,n)=>{var a=t.name;g(r._(s._({},h),{name:a,code:null==n?void 0:n.code,state:"INACTIVE"})),N(e.f(x).CHOOSE_ROLE);},onError:e=>{a(e.message);}}),v=j.mutate,I=j.isPending,S=j.isError,E=b.useSelector(e=>e.signUp).createUserData;return c.jsxs("div",{className:"w-full h-3/4 mt-10 px-4 flex flex-col items-center",children:[!S&&c.jsxs(c.Fragment,{children:[" ",c.jsx("h2",{className:"font-bold text-center text-xl mb-5",children:"Vamos a conocernos ;)"}),c.jsxs("form",{className:"flex flex-col gap-2",onSubmit:t=>{t.preventDefault();var n=new FormData(t.target),a=n.get("code"),s=n.get("phone");if(!/^\d{8}$/.test(a.trim())){e.f(p).error("El c√≥digo PUCP debe tener 8 d√≠gitos");return;}if(!/^\d{9}$/.test(s.trim())){e.f(p).error("El n√∫mero de tel√©fono debe tener 9 d√≠gitos");return;}v({phone:s,code:a,zoneId:E.zoneId});},children:[c.jsx("label",{htmlFor:"phone",className:"text-lg mb-1",children:"N√∫mero de comunicaci√≥n"}),c.jsx("input",{id:"phone",name:"phone",type:"tel",className:"input input-bordered",required:!0,disabled:I}),c.jsx("label",{htmlFor:"code",className:"text-lg mb-1",children:"Ingresa tu c√≥digo PUCP"}),c.jsx("input",{id:"code",name:"code",type:"tel",className:"input input-bordered",required:!0,disabled:I}),c.jsx("button",{className:"btn btn-primary mx-10 relative ".concat(I?"btn-disabled":""),children:I?c.jsx("span",{className:"loading loading-spinner"}):"Reg√≠strate"}),c.jsx("span",{className:"divider text-base-content text-opacity-50",children:"o"}),c.jsx(o.Link,{to:e.f(x).SING_IN,className:"mx-auto",children:c.jsx("button",{className:"btn btn-primary btn-outline ",children:"Inicia Sesi√≥n"})})]})]}),c.jsxs("section",{className:"h-full grid",children:[I&&c.jsx("p",{children:"Accediendo al campus virtual, esto puede tardar un momento...."}),S&&c.jsx(e.f(m),{message:n})]})]});}},});
//# sourceMappingURL=sign-up_index_48b7.831c02f5.js.map