(function(_){for(var r in _){_[r].__farm_resource_pot__='history_index_e78f.js';(globalThis || window || global)['e9989db5dabeea617f40c8dbfd07f5fb'].__farm_module_system__.register(r,_[r])}})({"d0f3ee88":function e(e,a,l,t){e._m(a),e.o(a,"default",()=>r);var i=l("95dab18f"),n=l("036dd75c");l("b889a890");var s=e.i(l("e3f277e1"));function r(a){var l=a.travelHistory,t=void 0===l?[]:l;return 0===t.length?n.jsxs("div",{className:"w-full h-full flex flex-col justify-center items-center",children:[n.jsx("h2",{children:" Â¿Nuev@ por aquÃ­? "}),n.jsx("strong",{className:"text-center text-balance",children:"No tienes viajes aÃºn, Â¿Que tal si te animas ahora?"})]}):n.jsx("ul",{children:t.map((a,l)=>n.jsx("li",{children:n.jsx(e.f(s),i._({},a),l)},a.id))});}},"daa99167":function e(e,a,s,r){e._m(a),e.o(a,"default",()=>u),s("77e8d20a"),s("998a9996"),s("e620b418");var t=s("036dd75c"),i=s("da0b8b76"),l=s("43e033a1"),n=s("dcd4b961"),f=e.i(s("d0f3ee88")),d=e.i(s("61128824")),o=s("ebc3afb6"),c=e.i(s("fae7f52f")),g=e.i(s("6982241b"));function u(){var a=o.useSelector(e=>e.user).type,s=n.useInfiniteQuery({queryKey:[e.f(c).MY_TRAVELS],queryFn:"passenger"===a?e.f(d).travelHistory:e.f(g).travelHistory,initialPageParam:1,getNextPageParam:e=>e.hasNext?e.page+1:void 0,getPreviousPageParam:e=>e.page-1}),r=s.data,u=s.isLoading,m=s.isError,v=s.isFetchingNextPage,x=s.fetchNextPage,y=s.hasNextPage,P=o.useIntersectionObserver(),b=P.elementRef,h=P.isVisible;i.useEffect(()=>{h&&y&&!v&&x();},[h,y,v,x]);var p=null==r?void 0:r.pages.flatMap(e=>e.data);return u?Array.from({length:3}).map((e,a)=>t.jsx("div",{className:"skeleton h-28 w-full my-1"},a)):m?t.jsx(l.Error,{}):t.jsxs("div",{className:"px-1",children:[t.jsx(e.f(f),{travelHistory:p}),t.jsx("div",{ref:b,className:"h-10 w-full flex justify-center items-center",children:v&&t.jsx("span",{className:"loading loading-dots "})})]});}},"e3f277e1":function e(e,a,l,c){e._m(a),e.o(a,"default",()=>m),l("1e2e6a6a"),l("02ab23c1");var i=l("036dd75c"),s=e.i(l("f7176859")),t=l("ebc3afb6");l("b889a890");var r=l("65738078"),d=e.i(l("3b359b6b")),n=l("0c36c8b6"),o=l("98a1dcaa");function m(a){var l=a.id,c=a.ownerCode,m=a.name,f=a.direction,x=a.state,b=a.travelDate,j=a.type,v=n.useNavigate(),p=t.useSelector(e=>e.travel).setSelectedTravel;return i.jsx(i.Fragment,{children:i.jsx("article",{className:"card card-compact shadow-xl cursor-pointer",role:"listitem",onClick:()=>{p({id:l,ownerCode:c,direction:f,state:x,travelDate:b,type:j}),v(e.f(s).HISTORY_DETAIL);},children:i.jsxs("div",{className:"card-body",children:[i.jsxs("header",{className:"flex flex-col",children:[i.jsxs("span",{className:"font-bold text-base","aria-label":"offer"===j?"Oferta de viaje":"Solicitud de viaje",children:[r.capitalize(m.split(" ")[0]),"offer"===j?"ðŸš˜":"ðŸ¤š"]}),i.jsx("span",{className:"badge ".concat(o.mapDirectionBadge[Number(f)]),"aria-label":"DirecciÃ³n del viaje: ".concat(f?"Ida":"Vuelta"),children:f?"Ida":"Vuelta"})]}),i.jsx("main",{className:"flex justify-between",children:i.jsxs("section",{className:"flex flex-col",children:[i.jsx("time",{className:"font-bold",dateTime:e.f(d)(b).format(),children:r.capitalize(e.f(d)(b).calendar())}),i.jsx("span",{className:"".concat(o.mapTravelStyle[x]),"aria-label":"Estado del viaje: ".concat(o.mapTravelText[x]),children:o.mapTravelText[x]})]})})]})})});}},});
//# sourceMappingURL=history_index_e78f.f91c60e8.js.map