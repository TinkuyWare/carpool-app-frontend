(function(_){for(var r in _){_[r].__farm_resource_pot__='sign-up_index_48b7.js';(globalThis || window || global)['6a871738bed45b567e434cb8d22e0796'].__farm_module_system__.register(r,_[r])}})({"2f81e7f6":function e(e,n,i,s){e._m(n),e.o(n,"default",()=>d);var c=i("036dd75c"),l=i("ebc3afb6");function d(e){var n=e.zone,i=l.useSelector(e=>e.signUp).setZone;return c.jsx("li",{onClick:()=>i(n.id),children:c.jsxs("div",{className:"flex justify-between",children:[c.jsx("p",{children:n.name}),c.jsx("span",{children:"‚ùØ"})]})});}},"74031740":function e(e,s,a,n){e._m(s),e.o(s,"default",()=>c);var i=a("036dd75c"),t=a("5ef950a6"),o=a("0c36c8b6"),r=e.i(a("f7176859"));function c(s){var a=s.message,n="El usuario ya existe"===a,c="Tu correo no coincide con el registrado en la universidad"===a,d=n?i.jsx(t.IconMoodWink,{size:96,stroke:1}):c?i.jsx(t.IconMistOff,{size:96,stroke:1}):i.jsx(t.IconMoodSadDizzy,{size:96,stroke:1});return i.jsxs("article",{className:"flex flex-col justify-center items-center",children:[i.jsx("h3",{className:"font-bold text-center text-pretty text-3xl",children:n?"D√©j√† vu":c?"Como que algo no cuadra, ¬øno?":"No te pudimos identificar"}),d,i.jsx("p",{className:"text-center text-balance",children:n?"¬°Parece que ya te conocemos! Inicia sesi√≥n para continuar üôå":c?"Tu correo no coincide con el registrado en la universidad, revisa tus datos e intenta de nuevo üôè":"Lo sentimos, esta aplicaci√≥n esta destinada a usuarios que pertenecen a la universidad. Si crees que esto es un error, trata de nuevo, el sistema hace lo que puede üòû"}),n&&i.jsx(o.Link,{to:e.f(r).SING_IN,children:i.jsx("button",{className:"btn btn-primary mt-5",children:"Ir a inicio de sesi√≥n"})})]});}},"76d745b8":function e(e,o,n,t){e._m(o),o.default={chooseZoneTxt:"chooseZoneTxt-68716f18",container:"container-68716f18",welcomeTxt:"welcomeTxt-68716f18"};},"9ce2af74":function e(e,n,d,o){e._m(n),e.o(n,"default",()=>f);var u=d("036dd75c"),a=e.i(d("2f81e7f6"));function f(n){var d=n.zones;return u.jsx("ul",{className:"menu bg-base-200 rounded-box w-full",children:(void 0===d?[]:d).map(n=>u.jsx(e.f(a),{zone:n},n.id))});}},"cb1344ba":function e(e,a,n,r){e._m(a),e.o(a,"default",()=>l);var s=n("036dd75c"),c=e.i(n("76d745b8")),o=n("dcd4b961"),i=n("43e033a1"),d=e.i(n("9ce2af74")),f=e.i(n("2bc5db2e")),t=e.i(n("fae7f52f"));function l(){var a=o.useQuery({queryKey:[e.f(t).ZONES],queryFn:e.f(f).getZones}),n=a.data,r=a.isLoading;return a.error?s.jsx(i.Error,{}):s.jsxs("div",{className:e.f(c).container,children:[s.jsx("h3",{className:e.f(c).welcomeTxt,children:"Empecemos"}),s.jsx("p",{className:e.f(c).chooseZoneTxt,children:"Elige tu zona para continuar"}),r?s.jsx(i.Loading,{elem:!0}):s.jsx(e.f(d),{zones:n})]});}},"dc50866c":function e(e,t,c,s){e._m(t),e.o(t,"default",()=>x);var i=c("957d803e"),n=c("036dd75c"),r=c("da0b8b76"),l=c("ebc3afb6"),o=e.i(c("cb1344ba")),a=e.i(c("f490d2ac")),d=c("5ef950a6"),f=c("28724cd6"),u=[n.jsx(e.f(o),{}),n.jsx(e.f(a),{})];function x(){var e=l.useSelector(e=>e.signUp).createUserData,t=l.useSelector(e=>e.user).resetUser,c=i._(r.useState(1),2),s=c[0],o=c[1];return r.useEffect(()=>{1===s&&(null==e?void 0:e.zoneId)?o(2):2===s&&(null==e||e.role);},[e]),r.useEffect(()=>{t(),f.removeCookie("tkn");},[]),n.jsxs("section",{children:[n.jsx("div",{children:n.jsxs("a",{className:"".concat(1===s?"invisible":""," flex w-fit ml-3 mt-5 items-center text-base-content text-opacity-50 cursor-pointer"),onClick:()=>{o(e=>e>1?e-1:1);},children:[n.jsx(d.IconCaretLeftFilled,{height:16,width:16}),"Volver"]})}),n.jsx(n.Fragment,{children:3!==s?u[s-1]:u[2][null==e?void 0:e.role]})]});}},"f490d2ac":function e(e,t,n,a){e._m(t),e.o(t,"default",()=>h);var r=n("95dab18f"),s=n("c919fece"),i=n("957d803e");n("02ab23c1"),n("ef3ea6b4");var l=n("036dd75c"),o=n("da0b8b76"),d=n("0c36c8b6"),c=n("dcd4b961"),m=e.i(n("74031740")),u=e.i(n("7299281c")),x=n("ebc3afb6"),p=e.i(n("f7176859")),b=e.i(n("38869417"));function h(){var t=i._(o.useState(null),2),n=t[0],a=t[1],h=x.useSelector(e=>e.user),f=h.syncUser,g=h.user,j=d.useNavigate(),N=c.useMutation({mutationFn:e.f(u).signUp,onSuccess:(t,n)=>{var a=t.name;f(s._(r._({},g),{name:a,code:null==n?void 0:n.code,state:"INACTIVE"})),j(e.f(p).CHOOSE_ROLE);},onError:e=>{a(e.message);}}),v=N.mutate,y=N.isPending,P=N.isError,C=x.useSelector(e=>e.signUp).createUserData;return l.jsxs("div",{className:"w-full h-3/4 mt-10 px-4 flex flex-col items-center",children:[!P&&l.jsxs(l.Fragment,{children:[" ",l.jsx("h2",{className:"font-bold text-center text-xl mb-5",children:"Vamos a conocernos ;)"}),l.jsxs("form",{className:"flex flex-col gap-2",onSubmit:t=>{t.preventDefault();var n=new FormData(t.target),a=n.get("code"),r=n.get("phone"),s=n.get("email");if(!/^\d{8}$/.test(a.trim())){e.f(b).error("El c√≥digo PUCP debe tener 8 d√≠gitos");return;}if(!/^\d{9}$/.test(r.trim())){e.f(b).error("El n√∫mero de tel√©fono debe tener 9 d√≠gitos");return;}if(!/^[a-zA-Z0-9._-]+@pucp.edu.pe$/i.test(s.trim())){e.f(b).error("El correo PUCP no es v√°lido");return;}v({phone:r,code:a,email:s.trim(),zoneId:C.zoneId});},children:[l.jsx("label",{htmlFor:"phone",children:"N√∫mero de celular"}),l.jsx("input",{id:"phone",name:"phone",type:"tel",className:"input input-bordered",maxLength:9,minLength:9,required:!0,disabled:y}),l.jsx("label",{htmlFor:"code",children:"C√≥digo PUCP"}),l.jsx("input",{id:"code",name:"code",type:"tel",className:"input input-bordered",maxLength:8,minLength:8,required:!0,disabled:y}),l.jsx("label",{htmlFor:"email",children:"Correo PUCP"}),l.jsx("input",{type:"email",id:"email",name:"email",className:"input input-bordered",required:!0}),l.jsx("button",{className:"btn btn-primary mx-10 relative ".concat(y?"btn-disabled":""),children:y?l.jsx("span",{className:"loading loading-spinner"}):"Reg√≠strate"}),l.jsx("span",{className:"divider text-base-content text-opacity-50",children:"o"}),l.jsx(d.Link,{to:e.f(p).SING_IN,className:"mx-auto",children:l.jsx("button",{className:"btn btn-primary btn-outline ",children:"Inicia Sesi√≥n"})})]})]}),l.jsxs("section",{className:"h-full grid py-2 place-items-center",children:[y&&l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-center text-balance text-base-content text-opacity-70",children:"Accediendo al campus virtual, esto puede tardar un momento"}),l.jsx("span",{className:"loading loading-dots loading-xs"})]}),P&&l.jsx(e.f(m),{message:n})]})]});}},});
//# sourceMappingURL=sign-up_index_48b7.46ace82a.js.map