(function(_){for(var r in _){_[r].__farm_resource_pot__='profile_index_11f2.js';(globalThis || window || global)['0f6266587c3c880ed98055938bafcf5c'].__farm_module_system__.register(r,_[r])}})({"5894953b":function e(e,l,a,s){e._m(l),e.o(l,"default",()=>d),a("1135e585");var t=a("036dd75c"),i=a("ebc3afb6");function d(e){var l=e.updateMode,a=i.useSelector(e=>e.user).user;return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"col-span-1 flex flex-col",children:[t.jsx("label",{htmlFor:"plate",children:"Placa"}),t.jsx("input",{className:"input",name:"plate",id:"plate",type:"text",defaultValue:a.plate,minLength:7,maxLength:7,disabled:!l,required:!0})]}),t.jsxs("div",{className:"col-span-1 flex flex-col",children:[t.jsx("label",{htmlFor:"vehicleDescription",children:"Descripción de vehículo"}),t.jsx("input",{className:"input",type:"text",name:"vehicleDescription",id:"vehicleDescription",defaultValue:a.vehicleDescription,disabled:!l,maxLength:100,required:!0})]}),t.jsxs("div",{className:"col-span-1 flex flex-col",children:[t.jsx("label",{htmlFor:"fee",children:"Tarifa"}),t.jsx("input",{className:"input",type:"number",name:"fee",id:"fee",defaultValue:a.fee.toFixed(2),disabled:!l,min:0,step:.5,max:99.99,required:!0})]}),t.jsxs("div",{className:"col-span-1 flex flex-col",children:[t.jsx("label",{htmlFor:"seats",children:"Asientos disponibles"}),t.jsx("input",{className:"input",type:"number",name:"seats",id:"seats",defaultValue:a.seats,disabled:!l,min:1,max:10,required:!0})]}),t.jsxs("div",{className:"col-span-2 flex flex-col",children:[t.jsx("label",{htmlFor:"routeIn",children:"Ruta de ida"}),t.jsx("textarea",{className:"textarea",name:"routeIn",id:"routeIn",defaultValue:a.routeIn,disabled:!l,maxLength:100,required:!0})]}),t.jsxs("div",{className:"col-span-2 flex flex-col",children:[t.jsx("label",{htmlFor:"routeOut",children:"Ruta de vuelta"}),t.jsx("textarea",{className:"textarea",name:"routeOut",id:"routeOut",defaultValue:a.routeOut,disabled:!l,maxLength:100,required:!0})]})]});}},"7f507c53":function e(e,a,r,l){e._m(a),e.o(a,"default",()=>d);var t=r("036dd75c"),c=r("ebc3afb6");function d(e){var a=e.updateMode,r=c.useSelector(e=>e.user).user;return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"col-span-2 flex flex-col",children:[t.jsx("label",{htmlFor:"",children:"Referencia de Paradero"}),t.jsx("textarea",{className:"textarea",name:"pickUpPoint",maxLength:100,defaultValue:r.pickUpPoint,disabled:!a,required:!0})]})});}},"8054e03e":function e(e,a,t,s){e._m(a),e.o(a,"default",()=>N);var l=t("95dab18f"),r=t("c919fece"),n=t("957d803e");t("74809578"),t("38afb942"),t("4ba47fd0");var i=t("036dd75c"),d=e.i(t("fae7f52f")),c=t("ebc3afb6"),o=e.i(t("2bc5db2e")),u=t("dcd4b961"),p=t("65738078"),f=t("da0b8b76"),x=e.i(t("5894953b")),m=e.i(t("7f507c53")),b=e.i(t("38869417")),h=t("c0e2ffb1"),v=e.i(t("6982241b")),j=e.i(t("61128824"));function N(){var a,t=c.useSelector(e=>e.user),s=t.type,N=t.user,g=t.syncUser,y=n._(f.useState(!1),2),z=y[0],D=y[1],I=f.useRef(null),F=u.useQuery({queryKey:[e.f(d).ZONES],queryFn:e.f(o).getZones}).data,S=u.useMutation({mutationFn:a=>"driver"===s?e.f(v).updateDriver(a):e.f(j).updatePassenger(a),onMutate:e=>(D(!1),g(l._({},N,e)),{previousData:N}),onError:(a,t,s)=>{var l,r=a.message;(null==s?void 0:s.previousData)&&g(s.previousData),null===(l=I.current)||void 0===l||l.reset(),e.f(b).error(r);},onSuccess:()=>{e.f(b).success("Perfil actualizado");}}).mutate;return i.jsxs("article",{className:"px-4 flex flex-col gap-4 mt-2",children:[i.jsxs("header",{className:"card text-center",children:[i.jsxs("p",{className:"font-bold text-xl",children:[" ",p.capitalize(N.name)]}),i.jsx("p",{className:"font-bold text-xl",children:p.capitalize(N.lastname)}),i.jsx("p",{className:"text-base-content text-opacity-70",children:"driver"===s?"Conductor(a)":"Pasajero/a"}),i.jsx("p",{className:"text-base-content text-opacity-70",children:N.email}),i.jsx("p",{className:"text-base-content text-opacity-70",children:N.code})]}),i.jsx("main",{children:i.jsxs("form",{ref:I,className:"grid grid-cols-2 gap-y-3 gap-x-1",onSubmit:z?e=>{e.preventDefault();var a=new FormData(e.currentTarget),t={};a.forEach((e,a)=>{t[a]=e.toString();});var s=r._(l._({},t),{plate:t.plate.toUpperCase(),fee:parseFloat(t.fee),seats:parseInt(t.seats),zoneId:parseInt(t.zoneId)});h.equalObjects(s,N)?D(!1):S(s);}:e=>{e.preventDefault(),D(!0);},children:[i.jsxs("div",{className:"col-span-1 flex flex-col",children:[i.jsx("label",{htmlFor:"phone",children:"Celular"}),i.jsx("input",{className:"input",type:"tel",name:"phone",id:"phone",minLength:9,maxLength:9,defaultValue:N.phone,disabled:!z,required:!0})]}),i.jsxs("div",{className:"col-span-1 flex flex-col",children:[i.jsx("label",{htmlFor:"zone",children:"Zona"}),i.jsx("select",{className:"select",name:"zoneId",id:"zoneId",defaultValue:null==F?void 0:null===(a=F.find(e=>e.id===N.zoneId))||void 0===a?void 0:a.id,disabled:!z,required:!0,children:null==F?void 0:F.map(e=>i.jsx("option",{value:e.id,children:e.name},e.id))})]}),"driver"===s?i.jsx(e.f(x),{updateMode:z}):i.jsx(e.f(m),{updateMode:z}),i.jsx("div",{className:"col-span-2 flex justify-center gap-2",children:i.jsx("button",{className:"btn btn-primary",children:z?"Guardar":"Editar"})})]})})]});}},"c0e2ffb1":function e(e,c,t,n){function b(e,c){var t=Object.keys(e),n=Object.keys(c);return t.filter(e=>n.includes(e)).every(t=>e[t]===c[t]);}e._m(c),e.o(c,"equalObjects",()=>b),t("e418ffc9"),t("07bb7302");},});
//# sourceMappingURL=profile_index_11f2.1da2bebd.js.map